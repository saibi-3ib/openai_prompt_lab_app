<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>Admin â€” Worker Control</title>
</head>
<body>
  <h1>Worker Control</h1>
  <p>Worker status: <strong>{{ status }}</strong>{% if pid %} (pid: {{ pid }}){% endif %}</p>

  <form method="post">
    {{ csrf_token() }}
    <input type="hidden" name="action" value="start_worker">
    <p>
      <label>Confirmation phrase (type: <code>{{ required_phrase }}</code>)<br>
        <input type="text" name="confirm_phrase" required>
      </label>
    </p>
    <p>
      <button type="submit">Start Worker (run once and seed test data)</button>
    </p>
  </form>

  <form method="post" style="margin-top:1rem;">
    {{ csrf_token() }}
    <input type="hidden" name="action" value="stop_worker">
    <p><button type="submit">Stop Worker</button></p>
  </form>

  <h2>Logs</h2>
  <p>Log file: {{ log_file }}</p>
  <p>
    You can view logs by downloading the file from the server or exposing log viewing in admin UI separately.
  </p>
</body>
</html>